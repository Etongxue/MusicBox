(function(t){function a(a){for(var i,l,c=a[0],o=a[1],r=a[2],p=0,m=[];p<c.length;p++)l=c[p],Object.prototype.hasOwnProperty.call(e,l)&&e[l]&&m.push(e[l][0]),e[l]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);u&&u(a);while(m.length)m.shift()();return n.push.apply(n,r||[]),s()}function s(){for(var t,a=0;a<n.length;a++){for(var s=n[a],i=!0,c=1;c<s.length;c++){var o=s[c];0!==e[o]&&(i=!1)}i&&(n.splice(a--,1),t=l(l.s=s[0]))}return t}var i={},e={app:0},n=[];function l(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.m=t,l.c=i,l.d=function(t,a,s){l.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:s})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,a){if(1&a&&(t=l(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var i in t)l.d(s,i,function(a){return t[a]}.bind(null,i));return s},l.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(a,"a",a),a},l.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},l.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=a,c=c.slice();for(var r=0;r<c.length;r++)a(c[r]);var u=o;n.push([0,"chunk-vendors"]),s()})({0:function(t,a,s){t.exports=s("56d7")},"56d7":function(t,a,s){"use strict";s.r(a);s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{attrs:{id:"app"}},[s("top"),s("index")],1)},n=[],l=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"top-container"},[t._m(0),s("div",{staticClass:"site-name"},[t._v(" 💽 Tsuki的音乐盒 🎹 ")]),s("div",{staticClass:"right-box"},[s("div",{staticClass:"el-input el-input--small el-input--prefix"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"el-input__inner",attrs:{type:"text",autocomplete:"off",placeholder:"搜索"},domProps:{value:t.inputValue},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.toResult(a)},input:function(a){a.target.composing||(t.inputValue=a.target.value)}}}),t._m(1)])])])},c=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"left-box"},[s("a",{attrs:{href:"https://www.tsuki.icu/"}},[t._v("🍁 主页")]),s("a",{attrs:{href:"https://blog.tsuki.icu/"}},[t._v("🚀 博客")]),s("a",{attrs:{href:"https://p.tsuki.icu"}},[t._v("🦄 支持作者")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("span",{staticClass:"el-input__prefix"},[s("i",{staticClass:"el-input__icon el-icon-search"})])}],o={name:"top",data:function(){return{inputValue:""}},methods:{toResult:function(){""==this.inputValue?this.$message({message:"搜索内容不能为空！",type:"warning"}):this.$router.push("/result?query="+this.inputValue)}}},r=o,u=s("2877"),p=Object(u["a"])(r,l,c,!1,null,"26d79400",null),m=p.exports,v=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"index-container"},[s("div",{staticClass:"nav"},[s("ul",[s("li",[s("router-link",{attrs:{to:"/discovery"}},[s("span",{staticClass:"iconfont icon-find-music"}),t._v(" 发现音乐 ")])],1),s("li",[s("router-link",{attrs:{to:"/playlists"}},[s("span",{staticClass:"iconfont icon-music-list"}),t._v(" 推荐歌单 ")])],1),s("li",[s("router-link",{attrs:{to:"/songs"}},[s("span",{staticClass:"iconfont icon-music"}),t._v(" 最新音乐 ")])],1),s("li",[s("router-link",{attrs:{to:"/mvs"}},[s("span",{staticClass:"iconfont icon-mv"}),t._v(" 最新MV ")])],1)])]),s("div",{staticClass:"main"},[s("router-view",{key:t.key})],1),s("div",{staticClass:"player"},[s("audio",{attrs:{loop:"",src:t.musicUrl,autoplay:"",controls:""}})])])},d=[],h={name:"index",data:function(){return{musicUrl:"http://m7.music.126.net/20200303182550/8aa5971b1630d1527a922ccd2b97f392/ymusic/035d/0109/520e/478f86cc9f6c6539f7c8ed3e06c1bf8e.mp3"}},computed:{key:function(){return this.$route.path+Math.random()}}},g=h,C=Object(u["a"])(g,v,d,!1,null,null,null),f=C.exports,_={name:"app",components:{top:m,index:f}},y=_,b=Object(u["a"])(y,e,n,!1,null,null,null),k=b.exports,w=s("5c96"),L=s.n(w),x=(s("0fae"),s("d940c"),s("a024"),s("8c4f")),$=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"recommend"},[s("h3",{staticClass:"title"},[t._v(" 推荐歌单 ")]),s("div",{staticClass:"items"},t._l(t.list,(function(a,i){return s("div",{key:i,staticClass:"item",on:{click:function(s){return t.toPlayList(a.id)}}},[s("div",{staticClass:"img-wrap"},[s("div",{staticClass:"desc-wrap"},[s("span",{staticClass:"desc"},[t._v(t._s(a.copywriter))])]),s("img",{attrs:{src:a.picUrl,alt:""}}),s("span",{staticClass:"iconfont icon-play"})]),s("p",{staticClass:"name"},[t._v(t._s(a.name))])])})),0)])},I=[],M=s("bc3a"),O=s.n(M),T={name:"discovery",data:function(){return{banners:[],list:[],songs:[],mv:[]}},created:function(){var t=this;O()({url:"http://47.100.104.176:3000/banner",method:"get"}).then((function(a){console.log(a),t.banners=a.data.banners})),O()({url:"https://autumnfish.cn/personalized",method:"get",params:{limit:10}}).then((function(a){console.log(a),t.list=a.data.result})),O()({url:"https://autumnfish.cn/personalized/newsong",method:"get"}).then((function(a){console.log(a),t.songs=a.data.result})),O()({url:"https://autumnfish.cn/personalized/mv",method:"get"}).then((function(a){console.log(a),t.mv=a.data.result}))},methods:{play:function(t){var a=this;O()({url:"https://autumnfish.cn/song/url",method:"get",params:{id:t}}).then((function(t){console.log(t);var s=t.data.data[0].url;a.$parent.musicUrl=s}))},toPlayList:function(t){this.$router.push("/playlist?id=".concat(t))},toMv:function(t){this.$router.push("/mv?id=".concat(t))}}},D=T,j=Object(u["a"])(D,$,I,!1,null,null,null),U=j.exports,q=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"playlists-container"},[s("div",{staticClass:"top-card"},[s("div",{staticClass:"icon-wrap"},[s("img",{attrs:{src:t.topList.coverImgUrl,alt:""}})]),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"tag"},[t._v("精品歌单")]),s("div",{staticClass:"title"},[t._v(" "+t._s(t.topList.name)+" ")]),s("div",{staticClass:"info"},[t._v(" "+t._s(t.topList.description)+" ")])]),s("img",{staticClass:"bg",attrs:{src:t.topList.coverImgUrl,alt:""}}),s("div",{staticClass:"bg-mask"})]),s("div",{staticClass:"tab-container"},[s("div",{staticClass:"tab-bar"},[s("span",{staticClass:"item",class:{active:"全部"==t.tag},on:{click:function(a){t.tag="全部"}}},[t._v("全部")]),s("span",{staticClass:"item",class:{active:"欧美"==t.tag},on:{click:function(a){t.tag="欧美"}}},[t._v("欧美")]),s("span",{staticClass:"item",class:{active:"华语"==t.tag},on:{click:function(a){t.tag="华语"}}},[t._v("华语")]),s("span",{staticClass:"item",class:{active:"流行"==t.tag},on:{click:function(a){t.tag="流行"}}},[t._v("流行")]),s("span",{staticClass:"item",class:{active:"说唱"==t.tag},on:{click:function(a){t.tag="说唱"}}},[t._v("说唱")]),s("span",{staticClass:"item",class:{active:"摇滚"==t.tag},on:{click:function(a){t.tag="摇滚"}}},[t._v("摇滚")]),s("span",{staticClass:"item",class:{active:"民谣"==t.tag},on:{click:function(a){t.tag="民谣"}}},[t._v("民谣")]),s("span",{staticClass:"item",class:{active:"电子"==t.tag},on:{click:function(a){t.tag="电子"}}},[t._v("电子")]),s("span",{staticClass:"item",class:{active:"轻音乐"==t.tag},on:{click:function(a){t.tag="轻音乐"}}},[t._v("轻音乐")]),s("span",{staticClass:"item",class:{active:"影视原声"==t.tag},on:{click:function(a){t.tag="影视原声"}}},[t._v("影视原声")]),s("span",{staticClass:"item",class:{active:"ACG"==t.tag},on:{click:function(a){t.tag="ACG"}}},[t._v("ACG")]),s("span",{staticClass:"item",class:{active:"怀旧"==t.tag},on:{click:function(a){t.tag="怀旧"}}},[t._v("怀旧")]),s("span",{staticClass:"item",class:{active:"治愈"==t.tag},on:{click:function(a){t.tag="治愈"}}},[t._v("治愈")]),s("span",{staticClass:"item",class:{active:"旅行"==t.tag},on:{click:function(a){t.tag="旅行"}}},[t._v("旅行")])]),s("div",{staticClass:"tab-content"},[s("div",{staticClass:"items"},t._l(t.playList,(function(a,i){return s("div",{key:i,staticClass:"item",on:{click:function(s){return t.toPlayList(a.id)}}},[s("div",{staticClass:"img-wrap"},[s("div",{staticClass:"num-wrap"},[t._v(" 播放量: "),s("span",{staticClass:"num"},[t._v(t._s(a.playCount))])]),s("img",{attrs:{src:a.coverImgUrl}}),s("span",{staticClass:"iconfont icon-play"})]),s("p",{staticClass:"name"},[t._v(t._s(a.name))])])})),0)])]),s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":10},on:{"current-change":t.handleCurrentChange}})],1)},S=[],E={name:"recommend",data:function(){return{total:0,page:1,topList:{},playList:[],tag:"全部"}},watch:{tag:function(){console.log(this.tag),this.topData(),this.listData(),this.page=1}},created:function(){this.topData(),this.listData()},methods:{toPlayList:function(t){this.$router.push("/playlist?id=".concat(t))},topData:function(){var t=this;O()({url:"https://autumnfish.cn/top/playlist/highquality",method:"get",params:{limit:1,cat:this.tag}}).then((function(a){console.log(a),0!=a.data.playlists.length&&(t.topList=a.data.playlists[0])}))},listData:function(){var t=this;O()({url:"https://autumnfish.cn/top/playlist/",method:"get",params:{limit:10,offset:10*(this.page-1),cat:this.tag}}).then((function(a){console.log(a),t.total=a.data.total,t.playList=a.data.playlists}))},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.page=t,this.listData()}}},P=E,R=Object(u["a"])(P,q,S,!1,null,null,null),V=R.exports,z=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"songs-container"},[s("div",{staticClass:"tab-bar"},[s("span",{staticClass:"item",class:{active:"0"==t.tag},on:{click:function(a){t.tag="0"}}},[t._v("全部")]),s("span",{staticClass:"item",class:{active:"7"==t.tag},on:{click:function(a){t.tag="7"}}},[t._v("华语")]),s("span",{staticClass:"item",class:{active:"96"==t.tag},on:{click:function(a){t.tag="96"}}},[t._v("欧美")]),s("span",{staticClass:"item",class:{active:"8"==t.tag},on:{click:function(a){t.tag="8"}}},[t._v("日本")]),s("span",{staticClass:"item",class:{active:"16"==t.tag},on:{click:function(a){t.tag="16"}}},[t._v("韩国")])]),s("table",{staticClass:"el-table playlit-table"},[t._m(0),s("tbody",t._l(t.list,(function(a,i){return s("tr",{key:i,staticClass:"el-table__row"},[s("td",[t._v(t._s(i+1))]),s("td",[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:a.album.picUrl,alt:""}}),s("span",{staticClass:"iconfont icon-play",on:{click:function(s){return t.play(a.id)}}})])]),s("td",[s("div",{staticClass:"song-wrap"},[s("div",{staticClass:"name-wrap"},[s("span",[t._v(t._s(a.name))]),s("span",{staticClass:"iconfont icon-mv"})]),s("span",[t._v(t._s(a.album.name))])])]),s("td",[t._v(t._s(a.artists[0].name))]),s("td",[t._v(t._s(a.album.name))]),s("td",[t._v(t._s(a.duration))])])})),0)])])},N=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("th"),s("th"),s("th",[t._v("音乐标题")]),s("th",[t._v("歌手")]),s("th",[t._v("专辑")]),s("th",[t._v("时长")])])}],H=(s("99af"),{name:"songs",data:function(){return{list:[],tag:"96"}},watch:{tag:function(){console.log(this.tag),this.songList()}},created:function(){this.songList()},methods:{songList:function(){var t=this;O()({url:"https://autumnfish.cn/top/song",method:"get",params:{type:this.tag}}).then((function(a){console.log(a),t.list=a.data.data;for(var s=0;s<t.list.length;s++){var i=t.list[s].duration,e=parseInt(i/1e3/60);e<10&&(e="0"+e);var n=parseInt(i/1e3%60);n<10&&(n="0"+n),t.list[s].duration="".concat(e,":").concat(n)}}))},play:function(t){var a=this;O()({url:"https://autumnfish.cn/song/url",method:"get",params:{id:t}}).then((function(t){var s=t.data.data[0].url;a.$parent.musicUrl=s}))}}}),A=H,G=Object(u["a"])(A,z,N,!1,null,null,null),F=G.exports,J=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"mvs-container"},[s("div",{staticClass:"filter-wrap"},[s("div",{staticClass:"seciton-wrap"},[s("span",{staticClass:"section-type"},[t._v("地区:")]),s("ul",{staticClass:"tabs-wrap"},[s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"全部"==t.area},on:{click:function(a){t.area="全部"}}},[t._v("全部")])]),s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"内地"==t.area},on:{click:function(a){t.area="内地"}}},[t._v("内地")])]),s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"港台"==t.area},on:{click:function(a){t.area="港台"}}},[t._v("港台")])]),s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"欧美"==t.area},on:{click:function(a){t.area="欧美"}}},[t._v("欧美")])]),s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"日本"==t.area},on:{click:function(a){t.area="日本"}}},[t._v("日本")])]),s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"韩国"==t.area},on:{click:function(a){t.area="韩国"}}},[t._v("韩国")])])])]),s("div",{staticClass:"type-wrap"},[s("span",{staticClass:"type-type"},[t._v("类型:")]),s("ul",{staticClass:"tabs-wrap"},[s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"全部"==t.type},on:{click:function(a){t.type="全部"}}},[t._v("全部")])]),s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"官方版"==t.type},on:{click:function(a){t.type="官方版"}}},[t._v("官方版")])]),s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"原声"==t.type},on:{click:function(a){t.type="原声"}}},[t._v("原声")])]),s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"现场版"==t.type},on:{click:function(a){t.type="现场版"}}},[t._v("现场版")])]),s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"网易出品"==t.type},on:{click:function(a){t.type="网易出品"}}},[t._v("网易出品")])])])]),s("div",{staticClass:"order-wrap"},[s("span",{staticClass:"order-type"},[t._v("排序:")]),s("ul",{staticClass:"tabs-wrap"},[s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"上升最快"==t.order},on:{click:function(a){t.order="上升最快"}}},[t._v("上升最快")])]),s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"最热"==t.order},on:{click:function(a){t.order="最热"}}},[t._v("最热")])]),s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"最新"==t.order},on:{click:function(a){t.order="最新"}}},[t._v("最新")])])])])]),s("div",{staticClass:"mvs"},[s("div",{staticClass:"items"},t._l(t.list,(function(a,i){return s("div",{key:i,staticClass:"item",on:{click:function(s){return t.toMv(a.id)}}},[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:a.cover,alt:""}}),s("div",{staticClass:"num-wrap"},[s("div",{staticClass:"iconfont icon-play"}),s("div",{staticClass:"num"},[t._v(t._s(a.playCount))])])]),s("div",{staticClass:"info-wrap"},[s("div",{staticClass:"name"},[t._v(t._s(a.name))]),s("div",{staticClass:"singer"},[t._v(t._s(a.artistName))])])])})),0),s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":8,limit:t.limit},on:{"current-change":t.handleCurrentChange}})],1)])},Y=[],B={name:"mvs",data:function(){return{total:20,page:1,limit:8,area:"全部",type:"全部",order:"上升最快",list:[]}},watch:{area:function(){this.page=1,this.getMvList()},type:function(){this.page=1,this.getMvList()},order:function(){this.page=1,this.getMvList()}},created:function(){this.getMvList()},methods:{getMvList:function(){var t=this;O()({url:"https://autumnfish.cn/mv/all",method:"get",params:{area:this.area,type:this.type,order:this.order,limit:this.limit,offset:(this.page-1)*this.limit}}).then((function(a){console.log(a),t.list=a.data.data;for(var s=0;s<t.list.length;s++)t.list[s].playCount>1e5&&(t.list[s].playCount=parseInt(t.list[s].playCount/1e4)+"万");a.data.count&&(t.total=a.data.count)}))},toMv:function(t){this.$router.push("/mv?id=".concat(t))},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.page=t,this.getMvList()}}},K=B,Q=Object(u["a"])(K,J,Y,!1,null,null,null),W=Q.exports,X=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"result-container"},[s("div",{staticClass:"title-wrap"},[s("h2",{staticClass:"title"},[t._v(t._s(t.$route.query.query))]),s("span",{staticClass:"sub-title"},[t._v("找到"+t._s(t.songCount)+"个结果")])]),s("el-tabs",{model:{value:t.activeIndex,callback:function(a){t.activeIndex=a},expression:"activeIndex"}},[s("el-tab-pane",{attrs:{label:"歌曲",name:"songs"}},[s("table",{staticClass:"el-table"},[s("thead",[s("th"),s("th",[t._v("音乐标题")]),s("th",[t._v("歌手")]),s("th",[t._v("专辑")]),s("th",[t._v("时长")])]),s("tbody",t._l(t.songList,(function(a,i){return s("tr",{key:i,staticClass:"el-table__row",on:{dblclick:function(s){return t.playMusic(a.id)}}},[s("td",[t._v(t._s(i+1))]),s("td",[s("div",{staticClass:"song-wrap"},[s("div",{staticClass:"name-wrap"},[s("span",[t._v(t._s(a.name))]),0!=a.mvid?s("span",{staticClass:"iconfont icon-mv"}):t._e()]),0!=a.alias.length?s("span",[t._v(t._s(a.alias[0]))]):t._e()])]),s("td",[t._v(t._s(a.artists[0].name))]),s("td",[t._v(t._s(a.album.name))]),s("td",[t._v(t._s(a.duration))])])})),0)])]),s("el-tab-pane",{attrs:{label:"歌单",name:"lists"}},[s("div",{staticClass:"items"},t._l(t.playList,(function(a,i){return s("div",{key:i,staticClass:"item",on:{click:function(s){return t.toPlayList(a.id)}}},[s("div",{staticClass:"img-wrap"},[s("div",{staticClass:"num-wrap"},[t._v(" 播放量: "),s("span",{staticClass:"num"},[t._v(t._s(a.playCount))])]),s("img",{attrs:{src:a.coverImgUrl,alt:""}}),s("span",{staticClass:"iconfont icon-play"})]),s("p",{staticClass:"name"},[t._v(t._s(a.name))])])})),0)]),s("el-tab-pane",{attrs:{label:"MV",name:"mv"}},[s("div",{staticClass:"items mv"},t._l(t.mvList,(function(a,i){return s("div",{key:i,staticClass:"item",on:{click:function(s){return t.toMv(a.id)}}},[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:a.cover,alt:""}}),s("span",{staticClass:"iconfont icon-play"}),s("div",{staticClass:"num-wrap"},[s("div",{staticClass:"iconfont icon-play"}),s("div",{staticClass:"num"},[t._v(t._s(a.playCount))])]),s("span",{staticClass:"time"},[t._v("02:43")])]),s("div",{staticClass:"info-wrap"},[s("div",{staticClass:"name"},[t._v(t._s(a.name))]),s("div",{staticClass:"singer"},[t._v(t._s(a.artistName))])])])})),0)])],1),s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":10,limit:t.limit},on:{"current-change":t.handleCurrentChange}})],1)},Z=[],tt=(s("ac1f"),s("841c"),{name:"result",data:function(){return{activeIndex:"songs",total:0,page:1,limit:10,songList:[],playList:[],mvList:[],songCount:0,type:1}},watch:{activeIndex:function(){var t=this;switch(this.page=1,this.activeIndex){case"songs":this.type=1;break;case"lists":this.type=1e3;break;case"mv":this.type=1004;break;default:break}O()({url:" https://autumnfish.cn/search",method:"get",params:{keywords:this.$route.query.query,limit:this.limit,offset:(this.page-1)*this.limit,type:this.type}}).then((function(a){if(console.log(a),1==t.type){t.songList=a.data.result.songs,t.songCount=a.data.result.songCount,t.total=a.data.result.songCount;for(var s=0;s<t.songList.length;s++){var i=t.songList[s].duration,e=parseInt(i/1e3/60);e<10&&(e="0"+e);var n=parseInt(i/1e3%60);n<10&&(n="0"+n),t.songList[s].duration="".concat(e,":").concat(n)}}else if(1e3==t.type){t.playList=a.data.result.playlists,t.total=a.data.result.playlistCount;for(var l=0;l<t.playList.length;l++)t.playList[l].playCount>1e5&&(t.playList[l].playCount=parseInt(t.playList[l].playCount/1e4)+"万")}else if(1004==t.type){t.mvList=a.data.result.mvs,t.total=a.data.result.mvCount;for(var c=0;c<t.mvList.length;c++)t.mvList[c].playCount>1e5&&(t.mvList[c].playCount=parseInt(t.mvList[c].playCount/1e4)+"万")}}))}},created:function(){this.search()},methods:{search:function(){var t=this;O()({url:" https://autumnfish.cn/search",method:"get",params:{keywords:this.$route.query.query,limit:this.limit,offset:(this.page-1)*this.limit,type:1}}).then((function(a){if(console.log(a),a.data.hasOwnProperty("msg"))t.$message({message:"搜索内容异常！",type:"warning"});else{t.songList=a.data.result.songs,t.songCount=a.data.result.songCount,t.total=a.data.result.songCount;for(var s=0;s<t.songList.length;s++){var i=t.songList[s].duration,e=parseInt(i/1e3/60);e<10&&(e="0"+e);var n=parseInt(i/1e3%60);n<10&&(n="0"+n),t.songList[s].duration="".concat(e,":").concat(n)}}}),(function(t){console.log(t)}))},playMusic:function(t){var a=this;O()({url:"https://autumnfish.cn/song/url",method:"get",params:{id:t}}).then((function(t){var s=t.data.data[0].url;a.$parent.musicUrl=s}))},toPlayList:function(t){this.$router.push("/playlist?id=".concat(t))},toMv:function(t){this.$router.push("/mv?id=".concat(t))},handleCurrentChange:function(t){var a=this;console.log("当前页: ".concat(t)),this.page=t,O()({url:" https://autumnfish.cn/search",method:"get",params:{keywords:this.$route.query.query,limit:this.limit,offset:(this.page-1)*this.limit,type:this.type}}).then((function(t){if(console.log(t),1==a.type){a.songList=t.data.result.songs,a.songCount=t.data.result.songCount,a.total=t.data.result.songCount;for(var s=0;s<a.songList.length;s++){var i=a.songList[s].duration,e=parseInt(i/1e3/60);e<10&&(e="0"+e);var n=parseInt(i/1e3%60);n<10&&(n="0"+n),a.songList[s].duration="".concat(e,":").concat(n)}}else if(1e3==a.type){a.playList=t.data.result.playlists,a.total=t.data.result.playlistCount;for(var l=0;l<a.playList.length;l++)a.playList[l].playCount>1e5&&(a.playList[l].playCount=parseInt(a.playList[l].playCount/1e4)+"万")}else if(1004==a.type){a.mvList=t.data.result.mvs,a.total=t.data.result.mvCount;for(var c=0;c<a.mvList.length;c++)a.mvList[c].playCount>1e5&&(a.mvList[c].playCount=parseInt(a.mvList[c].playCount/1e4)+"万")}}))}}}),at=tt,st=Object(u["a"])(at,X,Z,!1,null,null,null),it=st.exports,et=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"playlist-container"},[s("div",{staticClass:"top-wrap"},[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:t.detail.coverImgUrl}})]),s("div",{staticClass:"info-wrap"},[s("p",{staticClass:"title"},[t._v(t._s(t.detail.name))]),void 0!=t.detail.creator?s("div",{staticClass:"author-wrap"},[s("img",{staticClass:"avatar",attrs:{src:t.detail.creator.avatarUrl}}),s("span",{staticClass:"name"},[t._v(t._s(t.detail.creator.nickname))]),s("span",{staticClass:"time"},[t._v(t._s(t.detail.createTime))])]):t._e(),t._m(0),s("div",{staticClass:"tag-wrap"},[s("span",{staticClass:"title"},[t._v("标签:")]),s("ul",t._l(t.detail.tags,(function(a,i){return s("li",{key:i},[t._v(t._s(a))])})),0)]),s("div",{staticClass:"desc-wrap"},[s("span",{staticClass:"title"},[t._v("简介:")]),s("span",{staticClass:"desc"},[t._v(t._s(t.detail.description))])])])]),s("el-tabs",{model:{value:t.activeIndex,callback:function(a){t.activeIndex=a},expression:"activeIndex"}},[s("el-tab-pane",{attrs:{label:"歌曲列表",name:"1"}},[s("table",{staticClass:"el-table playlit-table"},[s("thead",[s("th"),s("th"),s("th",[t._v("音乐标题")]),s("th",[t._v("歌手")]),s("th",[t._v("专辑")]),s("th",[t._v("时长")])]),s("tbody",t._l(t.detail.tracks,(function(a,i){return s("tr",{key:i,staticClass:"el-table__row",on:{click:function(s){return t.play(a.id)}}},[s("td",[t._v(t._s(i+1))]),s("td",[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:a.al.picUrl,alt:""}}),s("span",{staticClass:"iconfont icon-play"})])]),s("td",[s("div",{staticClass:"song-wrap"},[s("div",{staticClass:"name-wrap"},[s("span",[t._v(t._s(a.name))]),s("span",{staticClass:"iconfont icon-mv"})]),s("span")])]),s("td",[t._v(t._s(a.ar[0].name))]),s("td",[t._v(t._s(a.al.name))]),s("td",[t._v(t._s(a.dt))])])})),0)])]),s("el-tab-pane",{attrs:{label:"评论"+t.TotalSum,name:"2"}},[0!=t.hotComments.length?s("div",{staticClass:"comment-wrap"},[s("p",{staticClass:"title"},[t._v("精彩评论"),s("span",{staticClass:"number"},[t._v("("+t._s(t.hotTotal)+")")])]),s("div",{staticClass:"comments-wrap"},t._l(t.hotComments,(function(a,i){return s("div",{key:i,staticClass:"item"},[s("div",{staticClass:"icon-wrap"},[s("img",{attrs:{src:a.user.avatarUrl}})]),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"content"},[s("span",{staticClass:"name"},[t._v(t._s(a.user.nickname)+"：")]),s("span",{staticClass:"comment"},[t._v(t._s(a.content))])]),0!=a.beReplied.length?s("div",{staticClass:"re-content"},[s("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname)+":")]),s("span",{staticClass:"comment"},[t._v(t._s(a.beReplied[0].content))])]):t._e(),s("div",{staticClass:"date"},[t._v(t._s(a.time))])])])})),0)]):t._e(),s("div",{staticClass:"comment-wrap"},[s("p",{staticClass:"title"},[t._v("最新评论"),s("span",{staticClass:"number"},[t._v("("+t._s(t.comTotal)+")")])]),s("div",{staticClass:"comments-wrap"},t._l(t.comments,(function(a,i){return s("div",{key:i,staticClass:"item"},[s("div",{staticClass:"icon-wrap"},[s("img",{attrs:{src:a.user.avatarUrl}})]),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"content"},[s("span",{staticClass:"name"},[t._v(t._s(a.user.nickname)+"：")]),s("span",{staticClass:"comment"},[t._v(t._s(a.content))])]),0!=a.beReplied.length?s("div",{staticClass:"re-content"},[s("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname)+"：")]),s("span",{staticClass:"comment"},[t._v(t._s(a.beReplied[0].content))])]):t._e(),s("div",{staticClass:"date"},[t._v(t._s(a.time))])])])})),0)]),s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":10,limit:t.limit},on:{"current-change":t.handleCurrentChange}})],1)],1)],1)},nt=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"play-wrap"},[s("span",{staticClass:"iconfont icon-circle-play"}),s("span",{staticClass:"text"},[t._v("播放全部")])])}],lt={name:"playlist",data:function(){return{activeIndex:"1",total:0,page:1,limit:10,detail:{},hotComments:[],hotTotal:0,comTotal:0,comments:[],TotalSum:0}},created:function(){var t=this;O()({url:"https://autumnfish.cn/playlist/detail",method:"get",params:{id:this.$route.query.id}}).then((function(a){console.log(a),t.detail=a.data.playlist;for(var s=t.detail.tracks,i=0;i<s.length;i++){var e=s[i].dt,n=parseInt(e/1e3/60);n<10&&(n="0"+n);var l=parseInt(e/1e3%60);l<10&&(l="0"+l),t.detail.tracks[i].dt="".concat(n,":").concat(l)}})),O()({url:"https://autumnfish.cn/comment/hot",method:"get",params:{id:this.$route.query.id,type:2}}).then((function(a){console.log(a),t.hotComments=a.data.hotComments,t.hotTotal=a.data.total;for(var s=0;s<t.hotComments.length;s++){var i=new Date(t.hotComments[s].time);Date.prototype.toLocaleString=function(){return this.hour=this.getHours()<10?"0"+this.getHours():this.getHours(),this.minute=this.getMinutes()<10?"0"+this.getMinutes():this.getMinutes(),this.second=this.getSeconds()<10?"0"+this.getSeconds():this.getSeconds(),this.getFullYear()+"/"+(this.getMonth()+1)+"/"+this.getDate()+"/ "+this.hour+":"+this.minute+":"+this.second},t.hotComments[s].time=i.toLocaleString()}})),this.getNewlist()},methods:{getNewlist:function(){var t=this;O()({url:" https://autumnfish.cn/comment/playlist",method:"get",params:{id:this.$route.query.id,limit:this.limit,offset:(this.page-1)*this.limit}}).then((function(a){console.log(a),t.comTotal=a.data.total,t.total=a.data.total,t.TotalSum=t.comTotal+t.hotTotal,t.comments=a.data.comments;for(var s=0;s<t.comments.length;s++){var i=new Date(t.comments[s].time);Date.prototype.toLocaleString=function(){return this.hour=this.getHours()<10?"0"+this.getHours():this.getHours(),this.minute=this.getMinutes()<10?"0"+this.getMinutes():this.getMinutes(),this.second=this.getSeconds()<10?"0"+this.getSeconds():this.getSeconds(),this.getFullYear()+"/"+(this.getMonth()+1)+"/"+this.getDate()+"/ "+this.hour+":"+this.minute+":"+this.second},t.comments[s].time=i.toLocaleString()}}))},play:function(t){var a=this;O()({url:"https://autumnfish.cn/song/url",method:"get",params:{id:t}}).then((function(t){var s=t.data.data[0].url;null==s||""==s||void 0==s?a.$message({message:"您没有取得权限！",type:"warning"}):a.$parent.musicUrl=s}))},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.page=t,this.getNewlist()}}},ct=lt,ot=Object(u["a"])(ct,et,nt,!1,null,null,null),rt=ot.exports,ut=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"mv-container"},[s("div",{staticClass:"mv-wrap"},[s("h3",{staticClass:"title"},[t._v("mv详情")]),s("div",{staticClass:"video-wrap"},[s("video",{attrs:{controls:"",autoplay:"",loop:"",src:t.url}})]),s("div",{staticClass:"info-wrap"},[s("div",{staticClass:"singer-info"},[s("div",{staticClass:"avatar-wrap"},[s("img",{attrs:{src:t.mvData.cover}})]),void 0!=t.mvData.artists?s("span",{staticClass:"name"},[t._v(t._s(t.mvData.artists[0].name))]):t._e()]),s("div",{staticClass:"mv-info"},[s("h2",{staticClass:"title"},[t._v(t._s(t.mvData.name))]),s("span",{staticClass:"date"},[t._v("发布："+t._s(t.mvData.publishTime))]),s("span",{staticClass:"number"},[t._v("播放："+t._s(t.mvData.playCount)+" 次")]),s("p",{staticClass:"desc"},[t._v(" "+t._s(t.mvData.desc)+" ")])])]),void 0!=t.hotComments?s("div",{staticClass:"comment-wrap"},[s("p",{staticClass:"title"},[t._v("精彩评论"),s("span",{staticClass:"number"},[t._v("("+t._s(t.hotTotal)+")")])]),s("div",{staticClass:"comments-wrap"},t._l(t.hotComments,(function(a,i){return s("div",{key:i,staticClass:"item"},[s("div",{staticClass:"icon-wrap"},[s("img",{attrs:{src:a.user.avatarUrl}})]),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"content"},[s("span",{staticClass:"name"},[t._v(t._s(a.user.nickname)+"：")]),s("span",{staticClass:"comment"},[t._v(t._s(a.content))])]),0!=a.beReplied.length?s("div",{staticClass:"re-content"},[s("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname)+":")]),s("span",{staticClass:"comment"},[t._v(t._s(a.beReplied[0].content))])]):t._e(),s("div",{staticClass:"date"},[t._v(t._s(a.time))])])])})),0)]):t._e(),s("div",{staticClass:"comment-wrap"},[s("p",{staticClass:"title"},[t._v("最新评论"),s("span",{staticClass:"number"},[t._v("("+t._s(t.total)+")")])]),s("div",{staticClass:"comments-wrap"},t._l(t.comments,(function(a,i){return s("div",{key:i,staticClass:"item"},[s("div",{staticClass:"icon-wrap"},[s("img",{attrs:{src:a.user.avatarUrl}})]),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"content"},[s("span",{staticClass:"name"},[t._v(t._s(a.user.nickname)+"：")]),s("span",{staticClass:"comment"},[t._v(t._s(a.content))])]),0!=a.beReplied.length?s("div",{staticClass:"re-content"},[s("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname)+"：")]),s("span",{staticClass:"comment"},[t._v(t._s(a.beReplied[0].content))])]):t._e(),s("div",{staticClass:"date"},[t._v(t._s(a.time))])])])})),0)]),s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":10,limit:t.limit},on:{"current-change":t.handleCurrentChange}})],1),s("div",{staticClass:"mv-recommend"},[s("h3",{staticClass:"title"},[t._v("相关推荐")]),s("div",{staticClass:"mvs"},[s("div",{staticClass:"items"},t._l(t.mvs,(function(a,i){return s("div",{key:i,staticClass:"item",on:{click:function(s){return t.toMv(a.id)}}},[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:a.cover,alt:""}}),s("span",{staticClass:"iconfont icon-play"}),s("div",{staticClass:"num-wrap"},[s("div",{staticClass:"iconfont icon-play"}),s("div",{staticClass:"num"},[t._v(t._s(a.playCount))])]),s("span",{staticClass:"time"},[t._v(t._s(a.duration))])]),s("div",{staticClass:"info-wrap"},[s("div",{staticClass:"name"},[t._v(t._s(a.name))]),s("div",{staticClass:"singer"},[t._v(t._s(a.artistName))])])])})),0)])])])},pt=[],mt={name:"mv",data:function(){return{total:0,page:1,limit:10,url:"",mvData:{},hotComments:[],hotTotal:0,comTotal:0,comments:[],mvs:[]}},created:function(){var t=this;O()({url:"https://autumnfish.cn/mv/url",method:"get",params:{id:this.$route.query.id}}).then((function(a){t.url=a.data.data.url})),O()({url:"https://autumnfish.cn/mv/detail",method:"get",params:{mvid:this.$route.query.id}}).then((function(a){t.mvData=a.data.data})),O()({url:" https://autumnfish.cn/comment/mv",method:"get",params:{id:this.$route.query.id,limit:this.limit,offset:(this.page-1)*this.limit}}).then((function(a){t.hotComments=a.data.hotComments,t.hotTotal=t.hotComments.length,t.comments=a.data.comments,t.total=a.data.total})),O()({url:" https://autumnfish.cn/simi/mv",method:"get",params:{mvid:this.$route.query.id}}).then((function(a){console.log(a),t.mvs=a.data.mvs;for(var s=0;s<t.mvs.length;s++){t.mvs[s].playCount>1e5&&(t.mvs[s].playCount=parseInt(t.mvs[s].playCount/1e4)+"万");var i=t.mvs[s].duration,e=parseInt(i/1e3/60);e<10&&(e="0"+e);var n=parseInt(i/1e3%60);n<10&&(n="0"+n),t.mvs[s].duration="".concat(e,":").concat(n)}}))},methods:{toMv:function(t){this.$router.push("/mv?id=".concat(t))},getMvList:function(){var t=this;O()({url:" https://autumnfish.cn/comment/mv",method:"get",params:{id:this.$route.query.id,limit:this.limit,offset:(this.page-1)*this.limit}}).then((function(a){console.log(a),t.hotComments=a.data.hotComments,t.comments=a.data.comments}))},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.page=t,this.getMvList()}}},vt=mt,dt=Object(u["a"])(vt,ut,pt,!1,null,null,null),ht=dt.exports;i["default"].use(L.a),i["default"].use(x["a"]);var gt=new x["a"]({routes:[{path:"/",redirect:"/discovery"},{path:"/discovery",component:U},{path:"/playlists",component:V},{path:"/playlist",component:rt},{path:"/songs",component:F},{path:"/mvs",component:W},{path:"/mv",component:ht},{path:"/result",component:it}]});i["default"].config.productionTip=!1,new i["default"]({render:function(t){return t(k)},router:gt}).$mount("#app")},a024:function(t,a,s){"use strict";var i,e=document.title;document.addEventListener("visibilitychange",(function(){document.hidden?(document.title="(つェ⊂) 你可以笑一个吗？",clearTimeout(i)):(document.title="(*´∇｀*) 因为我咖啡忘加糖了",i=setTimeout((function(){document.title=e}),2e3))}))},d940c:function(t,a,s){}});